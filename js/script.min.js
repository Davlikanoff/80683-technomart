var linkFavoritesState=document.getElementById("favorites-state"),linkCartState=document.getElementById("cart-state"),linkPopupFeedback=document.getElementById("show-popup-feedback"),linkPopupMap=document.getElementById("show-popup-map"),linksAddToFav=document.querySelectorAll(".item-buttons .btn.add-to-fav"),linksPopupCartPlus=document.querySelectorAll(".item-buttons .btn.buy"),popupFeedback=document.querySelector(".popup-content-feedback"),popupMap=document.querySelector(".popup-content-map"),popupCartPlus=document.querySelector(".popup-content-cart-plus"),btnClosePopupFeedback=document.getElementById("hide-popup-feedback"),btnClosePopupMap=document.getElementById("hide-popup-map"),btnClosePopupCartPlus=document.getElementById("hide-popup-cart-plus"),btnContinue=document.querySelector(".popup-content-btns .btn-continue"),formFeedback=document.getElementById("form-feedback"),inputNamePopupFeedback=document.getElementById("sender-name-field"),inputEmailPopupFeedback=document.getElementById("sender-email-field"),inputMessagePopupFeedback=document.getElementById("sender-message-field"),storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email");for(linkPopupFeedback&&linkPopupFeedback.addEventListener("click",function(a){a.preventDefault(a),popupFeedback.classList.add("popup-show"),storageName?(inputNamePopupFeedback.value=storageName,inputEmailPopupFeedback.focus()):inputNamePopupFeedback.focus(),storageEmail&&(inputEmailPopupFeedback.value=storageEmail,inputMessagePopupFeedback.focus())}),btnClosePopupFeedback&&btnClosePopupFeedback.addEventListener("click",function(a){a.preventDefault(a),popupFeedback.classList.remove("popup-show"),popupFeedback.classList.remove("popup-error")}),formFeedback&&formFeedback.addEventListener("submit",function(a){inputNamePopupFeedback.value&&inputEmailPopupFeedback.value&&inputMessagePopupFeedback.value?(localStorage.setItem("name",inputNamePopupFeedback.value),localStorage.setItem("email",inputEmailPopupFeedback.value)):(a.preventDefault(a),popupFeedback.classList.remove("popup-error"),popupFeedback.offsetWidth=popupFeedback.offsetWidth,popupFeedback.classList.add("popup-error"))}),linkPopupMap&&linkPopupMap.addEventListener("click",function(a){a.preventDefault(a),popupMap.classList.add("popup-show")}),btnClosePopupMap&&btnClosePopupMap.addEventListener("click",function(a){a.preventDefault(a),popupMap.classList.remove("popup-show")}),i=0;i<linksPopupCartPlus.length;i++)linksPopupCartPlus[i].addEventListener("click",function(a){a.preventDefault(a),linkCartState.classList.contains("selected")||linkCartState.classList.add("selected"),popupCartPlus.classList.add("popup-show")});for(i=0;i<linksAddToFav.length;i++)linksAddToFav[i].addEventListener("click",function(a){a.preventDefault(a),linkFavoritesState.classList.contains("selected")||linkFavoritesState.classList.add("selected")});btnClosePopupCartPlus.addEventListener("click",function(a){a.preventDefault(a),popupCartPlus.classList.remove("popup-show")}),btnContinue.addEventListener("click",function(a){a.preventDefault(a),popupCartPlus.classList.remove("popup-show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&(popupFeedback&&popupFeedback.classList.contains("popup-show")&&(popupFeedback.classList.remove("popup-show"),popupFeedback.classList.remove("popup-error")),popupMap&&popupMap.classList.contains("popup-show")&&popupMap.classList.remove("popup-show"),popupCartPlus&&popupCartPlus.classList.contains("popup-show")&&popupCartPlus.classList.remove("popup-show"))});